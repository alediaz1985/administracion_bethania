{% extends "base.html" %}
{% load static %}

{% block title %}{% if object %}Editar Vencimiento{% else %}Nuevo Vencimiento{% endif %}{% endblock %}

{% block extra_styles %}
<link rel="stylesheet" href="{% static 'cuotas/css/vencimientos.css' %}">
{% endblock %}

{% block content %}
<div class="student-card cuotas-card">
  <div class="student-header cuotas-header" style="border-bottom:1px solid #e9ecef; padding-bottom:1rem; margin-bottom:1rem;">
    <div>
      <h2 style="margin:0;">{% if object %}Editar{% else %}Nuevo{% endif %} Vencimiento</h2>
      <p class="cuotas-header__subtitle">Definí el último día sin recargo y el % de recargo.</p>
    </div>
  </div>

  <form method="post" novalidate>
    {% csrf_token %}

    <div class="form-grid">
      {{ form.non_field_errors }}
      <p>
        <label for="{{ form.ciclo.id_for_label }}">{{ form.ciclo.label }}</label>
        {{ form.ciclo }}
        {% if form.ciclo.errors %}<div class="errors">{{ form.ciclo.errors }}</div>{% endif %}
      </p>

      <p>
        <label for="{{ form.mes.id_for_label }}">{{ form.mes.label }}</label>
        {{ form.mes }}
        {% if form.mes.errors %}<div class="errors">{{ form.mes.errors }}</div>{% endif %}
      </p>

      <p>
        <label for="{{ form.dia_ultimo_sin_recargo.id_for_label }}">{{ form.dia_ultimo_sin_recargo.label }}</label>
        {{ form.dia_ultimo_sin_recargo }}
        <span class="hint">Se validará contra el último día real del mes del ciclo.</span>
        {% if form.dia_ultimo_sin_recargo.errors %}<div class="errors">{{ form.dia_ultimo_sin_recargo.errors }}</div>{% endif %}
      </p>

      <p>
        <label for="{{ form.recargo_porcentaje.id_for_label }}">{{ form.recargo_porcentaje.label }}</label>
        {{ form.recargo_porcentaje }}
        {% if form.recargo_porcentaje.errors %}<div class="errors">{{ form.recargo_porcentaje.errors }}</div>{% endif %}
      </p>
    </div>

    <div class="form-actions" style="margin-top:1rem;">
      <button type="submit" class="btn">{% if object %}Actualizar{% else %}Guardar{% endif %}</button>
      <a class="btn btn-light" href="{% url 'cuotas:vencimiento_list' %}">Cancelar</a>
    </div>
  </form>
</div>
{% endblock %}
